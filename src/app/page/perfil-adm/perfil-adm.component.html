<div class="min-h-screen flex flex-col bg-gray-100">
  <!-- Encabezado -->
  <header class="w-full bg-[#F0F4EF] flex items-center p-4 shadow">
    <img src="/assets/logo_puntosafa.png" alt="Logo Punto Safa" class="w-40 h-auto ml-10">
    <h2 class="flex-grow text-center text-2xl md:text-4xl font-bold text-[#1F2D3D]">
      ¡ A Trabajar !
    </h2>
    <h1 class="text-lg font-semibold text-blue-600 mr-10">¡HOLA! {{ userData?.nombre }} a ponerse al Día!</h1>
  </header>

  <!-- Main Content -->
  <main class="flex-grow container mx-auto p-6 bg-white shadow-lg rounded-lg mt-6">
    <div class="flex flex-col lg:flex-row items-start lg:items-center gap-8">
      <!-- Foto del Cliente -->
      <div class="flex-shrink-0">
        <img
          [src]="userData?.foto || 'assets/logo_puntosafa.png'"
          alt="Foto del Cliente"
          class="w-80 h-80 rounded-full object-cover border-4 border-blue-500"
        >
      </div>

      <!-- Información del Cliente -->
      <div class="flex-grow bg-gray-50 p-4 rounded-lg shadow-md">
        <h2 class="text-xl font-semibold text-gray-700 mb-4">Perfil del Cliente</h2>

        <!-- Mensajes de éxito y error -->
        <p *ngIf="successMessage" class="text-green-600 mt-2 p-3 bg-green-100 border border-green-600 rounded">
          {{ successMessage }}
        </p>

        <p *ngIf="errorMessage" class="text-red-600 mt-2 p-3 bg-red-100 border border-red-600 rounded">
          {{ errorMessage }}
        </p>

        <div class="space-y-3">
          <p><strong class="text-gray-600">Email:</strong> {{ userData?.usuario?.email }}</p>
          <p><strong class="text-gray-600">Nick:</strong> {{ userData?.usuario?.nick }}</p>
          <p><strong class="text-gray-600">Contraseña:</strong> ••••••••••</p>
        </div>

        <button (click)="abrirFormulario()" class="mt-4 bg-blue-500 text-white px-4 py-2 rounded">
          Editar Perfil
        </button>
      </div>

      <!-- Modal / Formulario de Edición -->
      <div *ngIf="mostrandoFormulario" class="fixed inset-0 bg-gray-900 bg-opacity-50 flex justify-center items-center">
        <div class="bg-white p-6 rounded shadow-lg w-1/3">
          <h2 class="text-lg font-semibold mb-4">Editar Perfil</h2>



          <label>Email:</label>
          <input [(ngModel)]="usuarioEditado.usuario.email" class="w-full border p-2 rounded" disabled />

          <label>Nick:</label>
          <input [(ngModel)]="usuarioEditado.usuario.nick" class="w-full border p-2 rounded" />

          <label>Contraseña:</label>
          <input type="password" [(ngModel)]="usuarioEditado.contrasena" class="w-full border p-2 rounded"
                 placeholder="Nueva contraseña (opcional)" />

          <div class="flex justify-end mt-4">
            <button (click)="guardarCambios()" class="bg-green-500 text-white px-4 py-2 rounded mr-2">Guardar</button>
            <button (click)="cerrarFormulario()" class="bg-red-500 text-white px-4 py-2 rounded">Cancelar</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Botón para escribir email -->
    <div class="mt-8">
      <a routerLink="/email" class="bg-blue-500 text-white px-6 py-3 rounded-full inline-block text-center font-semibold">
        Escribir Email
      </a>
    </div>

    <!-- Botón para registro Libro -->
    <div class="mt-8">
      <a routerLink="/registro-libro" class="bg-blue-500 text-white px-6 py-3 rounded-full inline-block text-center font-semibold">
        Registro Libro
      </a>
    </div>

    <!-- Información del Carrito de Compras -->
    <div class="mt-8 bg-gray-100 p-4 rounded-lg shadow-md">
      <h2 class="text-lg font-semibold text-gray-700 mb-2">Estado de Clientes</h2>
      <p class="text-gray-600">Aquí se muestra el estado de la compra de los Clientes...</p>
    </div>

  </main>
</div>
